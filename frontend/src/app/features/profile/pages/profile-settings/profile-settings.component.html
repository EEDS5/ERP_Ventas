<!-- frontend/src/app/features/profile/pages/profile-settings/profile-settings.component.html -->

<div class="row">
  <div class="col-12">
    <mat-card class="settings-card">
      <mat-card-header>
        <mat-card-title>{{ 'profile_settings_title' | translate }}</mat-card-title>
        <mat-card-subtitle>{{ 'edit_your_profile' | translate }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <!-- Nombre de usuario -->
          <mat-form-field appearance="outline" class="form-field-full">
            <mat-label>{{ 'username' | translate }}</mat-label>
            <input
              matInput
              formControlName="nombreUsuario"
              placeholder="{{ 'enter_username' | translate }}"
            />
            <mat-error *ngIf="nombreUsuarioControl?.hasError('required')">
              {{ 'username_required' | translate }}
            </mat-error>
            <mat-error *ngIf="nombreUsuarioControl?.hasError('minlength')">
              {{ 'username_min_length' | translate:{length: 3} }}
            </mat-error>
          </mat-form-field>

          <!-- Email -->
          <mat-form-field appearance="outline" class="form-field-full">
            <mat-label>{{ 'email' | translate }}</mat-label>
            <input
              matInput
              formControlName="email"
              placeholder="{{ 'enter_email' | translate }}"
            />
            <mat-error *ngIf="emailControl?.hasError('required')">
              {{ 'email_required' | translate }}
            </mat-error>
            <mat-error *ngIf="emailControl?.hasError('email')">
              {{ 'email_invalid' | translate }}
            </mat-error>
          </mat-form-field>

          <!-- Botones de acciÃ³n -->
          <div class="actions-container">
            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="profileForm.invalid || isLoading"
            >
              {{ 'save_changes' | translate }}
            </button>
            <button
              mat-button
              type="button"
              [routerLink]="['/profile/overview']"
              [disabled]="isLoading"
            >
              {{ 'cancel' | translate }}
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>
